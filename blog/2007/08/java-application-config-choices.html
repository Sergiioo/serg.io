<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--

Sergio Annecchiarico - thanks very much to:

Design by Free CSS Templates
http://www.freecsstemplates.org
Released for free under a Creative Commons Attribution 2.5 License

Modified by Sergio Annecchiarico - feel free to tweak some more if you like...

-->

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>serg.io: Java application config choices</title>
    <meta name="keywords" content="blog, java, annecchiarico, sergio annecchiarico" />
    <meta name="description" content="Sergio Annecchiarico's blog" />

    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="alternate" type="application/atom+xml" title="Atom" href="http://feeds.feedburner.com/Sergio" />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/Sergio" />
    <link rel="alternate" type="application/rdf+xml" title="RSS" href="http://feeds.feedburner.com/Sergio" />
    <link rel="stylesheet" href="http://serg.io/blog/blog.css" type="text/css" media="all" />
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="MSSmartTagsPreventParsing" content="true" />
<meta name="generator" content="Blogger" />
<link rel="icon" type="image/vnd.microsoft.icon" href="http://www.blogger.com/favicon.ico"/>
<link rel="alternate" type="application/atom+xml" title="serg.io - Atom" href="http://serg.io/blog/atom.xml" />
<link rel="alternate" type="application/rss+xml" title="serg.io - RSS" href="http://serg.io/blog/rss.xml" />
<link rel="service.post" type="application/atom+xml" title="serg.io - Atom" href="http://www.blogger.com/feeds/4414172998613045683/posts/default" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.blogger.com/rsd.g?blogID=4414172998613045683" />
<link rel="alternate" type="application/atom+xml" title="serg.io - Atom" href="http://www.blogger.com/feeds/4414172998613045683/7746840386685171518/comments/default" />
 <link rel="stylesheet" type="text/css" href="http://www.blogger.com/css/blog_controls.css"/> <link rel="stylesheet" type="text/css" href="http://www.blogger.com/dyn-css/authorization.css?targetBlogID=4414172998613045683&zx=8ff63df0-9f16-47df-8529-09a22b0afcaf"/><script type="text/javascript" src="http://www.blogger.com/js/backlink.js"></script>
<script type="text/javascript" src="http://www.blogger.com/js/backlink_control.js"></script>
<script type="text/javascript">var BL_backlinkURL = "http://www.blogger.com/dyn-js/backlink_count.js";var BL_blogId = "4414172998613045683";</script>

    
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
    <script type="text/javascript">
        _uacct = "UA-1603713-1";
        urchinTracker();
    </script>
    
    <script type="text/javascript" src="http://www.google.com/jsapi?key=ABQIAAAAuIWsJ156A26oSIQ4J-tsFhRi6DQAIOh2wezzjKqD7VrrikLmVxTK-IW2dWfJ5Po3ux3pqnnkgOwYog"></script>
    <script type="text/javascript">

    google.load("feeds", "1");

    function initialize() {
      var feed = new google.feeds.Feed("http://www.google.com/reader/public/atom/user/00174624012215095220/state/com.google/broadcast");
      feed.load(function(result) {
        if (!result.error) {
          var container = document.getElementById("feed");
            for (var i = 0; i < result.feed.entries.length && i < 5; i++) {
              var entry = result.feed.entries[i];
              var li = document.createElement("li");
              var header = li.appendChild(document.createElement("h3"));
              var link = li.appendChild(document.createElement("a"));
              link.appendChild(document.createTextNode(entry.title));
              link.href = entry.link;
              link.target = "_blank";
              var auth = li.appendChild(document.createElement("h4"));
              auth.appendChild(document.createTextNode("posted by " + entry.author));
              var snippet = li.appendChild(document.createElement("p"));
              snippet.appendChild(document.createTextNode(entry.contentSnippet));
              container.appendChild(li);
           }
	}
      });
    }
    google.setOnLoadCallback(initialize);

    </script>
    
<!-- --><style type="text/css">@import url(http://www.blogger.com/css/navbar/classic.css);
div.b-mobile {display:none;}
</style>

</head>

<body><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener("load",
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<iframe src="http://www.blogger.com/navbar.g?targetBlogID=4414172998613045683&amp;blogName=serg.io&amp;publishMode=PUBLISH_MODE_FTP&amp;navbarType=BLACK&amp;layoutType=CLASSIC&amp;homepageUrl=http%3A%2F%2Fserg.io%2Fblog%2F&amp;searchRoot=http%3A%2F%2Fblogsearch.google.com%2F" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" height="30px" width="100%" id="navbar-iframe" title="Blogger Navigation and Search"></iframe>
<div></div>
<div id="wrapper">
<div id="header">
    <div id="logo">
        <h1><a href="http://serg.io/blog">serg.io</a></h1>
        <h2>wittering and <a href="#">blathering</a> on</h2>
    </div>
    <div id="menu">
        <ul>
            <li class="active"><a href="http://serg.io/blog">blog</a></li>
            <li><a href="http://serg.io/about.html">about</a></li>
        </ul>
    </div>
</div>

<div id="page">
<div id="content">
<div id="welcome">

<div id="twitter_div">
  <ul id="twitter_update_list"></ul>
    <span id="twitter-link">
      according to <a href="http://twitter.com/serg10">Twitter</a>
      <a href="http://feeds.feedburner.com/Twitter/Serg10"><img style="border: none; vertical-align: middle;" src="http://serg.io/blog/images/feed-icon-10x10.png" alt="subscribe to my twitter feed" title="subscribe to my twitter feed" /></a>
    </span>
</div>


<h2>Java application config choices</h2><a name="7746840386685171518"></a>
<div class="blogPost">
    <div style="clear:both;"></div><p>I took some good-natured jibing on my last project about the level to which I wanted to make the application configurable.  My innate pedantry meant that I was driven to throw as much of the configuration and even logic into external files.  Frameworks like Spring positively encourage this - why would you ever have a hard-coded static constant, when you can inject a value from xml?  And why stop there - why not config your Spring config files with a <code><a href="http://www.springframework.org/docs/api/org/springframework/beans/factory/config/PropertyPlaceholderConfigurer.html">PropertyPlaceholderConfigurer</a></code>...  Well, my colleagues have made me think a bit more about this approach.  Clearly, there is some config data that no-one is quibbling about - database credentials for exmple, simply do not live hard coded into the application.  But what about other meta data?  Like say a number format pattern?  Or an SQL string?</p><br /><p>There are lots of choices for where metadata can reside, and picking the appropriate one is key.  Databases and properties files are great for config that often needs changing on the fly.  For example, the number format for a column in an online report.  However, they add a level of indirection during development which is anooying as the data is physically separated from the source.  They are also not well suited to refactoring, although IDEs ease some of the pain these days.</p><br /><p>Annotations are at the other extreme as they are bound to the source.  They're appropriate for a different category of metadata - when your config drives the code's core functionality.  The classic example is a SQL (or an object query language) string which is well suited to living in annotated methods in DAOs.  There is no point having it in an easliy-changed properties file because when you change your SQL you are fundamentally impacting the behaviour.  That is not a runtime activity.  However, annotations are more verbose to create.  Moreover they are easily abused and overused resulting in bloated, messy code.</p><br /><p>As an aside, and a great example of annotation abuse, I really don't like JUnit 4's <code><a href="http://www.junit.org/junit/javadoc/4.3/org/junit/Ignore.html">@Ignore</a></code> - if the test is broken then fix the damn thing!  That is just encouraging sloppiness.  It is even worse than commenting out a broken test as it kind of looks official - like you somehow meant to do it.  As much as I hate to admit it, at least a chunk of commented out test code is a big red flag that shouts at you to go back and get the thing to pass.</p><br /><p>So to sum up, the choices available in Java are increasing all the time.  Spring for example ships with more and more annotations.  In addition support is there for bean wiring by xml, properties files and programatically through the api.  In a slightly obtuse way, their new dynamic language support can be thought of as config - you can certainly use it to inject new bahaviour at runtime.  The choice can only be a good thing (I don't want to be forced to use EJB 2 deployment descriptors ever again).  It just means I've got to think more carefully about where application metadata should live and not just dump anything that looks like config into properties files.</p><div style="clear:both; padding-bottom:0.25em"></div><p class="blogger-labels">Labels: <a rel='tag' href="http://serg.io/blog/labels/config.html">config</a>, <a rel='tag' href="http://serg.io/blog/labels/java.html">java</a>, <a rel='tag' href="http://serg.io/blog/labels/spring.html">spring</a></p>
    <div class="byline">
        <a href="http://serg.io/blog/2007/08/java-application-config-choices.html" title="permanent link">#</a> posted by Sergio on Sunday, August 05, 2007
         <span class="item-action"><a href="http://www.blogger.com/email-post.g?blogID=4414172998613045683&postID=7746840386685171518" title="Email Post"><img class="icon-action" alt="" src="http://www.blogger.com:80/img/icon18_email.gif" height="13" width="18"/></a></span><span class="item-control blog-admin pid-1245354090"><a style="border:none;" href="http://www.blogger.com/post-edit.g?blogID=4414172998613045683&postID=7746840386685171518" title="Edit Post"><img class="icon-action" alt="" src="http://www.blogger.com:80/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
        <br/>
        <br/>
        <br/>
        <span style="text-align:right; display:block;">
subscribe by <a href="http://www.feedburner.com/fb/a/emailverifySubmit?feedId=1077454&amp;loc=en_US">email</a> or
<a href="http://feeds.feedburner.com/Sergio" rel="alternate" type="application/rss+xml">rss</a>&nbsp;<a href="http://feeds.feedburner.com/Sergio" rel="alternate" type="application/rss+xml"><img src="http://serg.io/blog/images/feed-icon-12x12.png" alt="subscribe to blog updates" style="vertical-align:middle;border:0"/></a>
        </span>
    </div>
</div>

    <div class="blogComments">
        
            <a name="comments"></a>
            Comments:
            
            <a class="comment-link" href="https://www.blogger.com/comment.g?blogID=4414172998613045683&postID=7746840386685171518">Post a Comment</a>
            <p id="postfeeds"></p>
          
        <br /> 
        <br />
        
            <a name="links"></a>
            Links to this post:
            <script type="text/javascript" src="http://www.blogger.com/dyn-js/backlink.js?blogID=4414172998613045683&postID=7746840386685171518" charset="utf-8" defer="true">
</script>
<noscript><a href="http://blogsearch.google.com/?ui=blg&q=link%3Ahttp%3A%2F%2Fserg.io%2Fblog%2F2007%2F08%2Fjava-application-config-choices.html">See links to this post</a></noscript>
<div id="blogger-dcom-block" style="display:none">
                <div class="blogComment">
                    <a href="<$BlogBacklinkURL$>" rel="nofollow"><$BlogBacklinkTitle$></a>
                    <span class="item-control blog-admin"><a style="border:none;" href="http://www.blogger.com/delete-backlink.g?blogID=4414172998613045683&amp;postID=7746840386685171518&amp;backlinkURL=%3C$BlogBacklinkURLEscaped$%3E" title="Remove Link" ><span class="delete-comment-icon">&nbsp;</span></a></span>
                    <br />
                    <$BlogBacklinkSnippet$>
                    <br />
                    <div class="byline">
                        <span class="comment-poster">
                            <em><$I18NPostedByBacklinkAuthor$> @ <$BlogBacklinkDateTime$></em>
                        </span>
                    </div>                        
                </div>
            </div>
<script type="text/javascript">if (typeof BL_addOnLoadEvent == 'function') { BL_addOnLoadEvent(function() { BL_writeBacklinks(); }); }</script>

            <p class="comment-timestamp"><script type="text/javascript">function BlogThis() {
Q=''; x=document; y=window;
if(x.selection) {
  Q=x.selection.createRange().text;
} else if (y.getSelection) {
  Q=y.getSelection();
} else if (x.getSelection) {
  Q=x.getSelection();
}
popw = y.open('http://www.blogger.com/blog-this.g?t=' +
  escape(Q) + '&u=' + escape(location.href) + '&n=' +
  escape(document.title),'bloggerForm',
  'scrollbars=no,width=475,height=300,top=175,left=75,status=yes,resizable=yes');
void(0);
}
</script>
<a class="comment-link" href="javascript:BlogThis();" id="b-backlink">Create a Link</a></p>
        
        <br /> 
        <br />
        <a href="http://serg.io/blog/">&lt;&lt; Home</a>
    </div>

<br/>
<hr/>
<br/>


</div>
<!-- end div#welcome -->

<!--div id="sample1" class="boxed">
    
    <h2>Sample One</h2>
    <ul>
        <li><a href="#">Ut semper vestibulum est</a></li>
        <li><a href="#">Vestibulum luctus venenatis </a></li>
        <li><a href="#">Etiam malesuada enim</a></li>
        <li><a href="#">Aenean elementum facilisis </a></li>
        
        <li><a href="#">Ut tincidunt elit vitae augue</a></li>
        <li><a href="#">Sed quis odio sagittis leo </a></li>
    </ul>
</div-->
<!-- end div#sample1 -->
<!--div id="sample2" class="boxed">
    <h2>Sample Two</h2>
    
    <p>Quisque dictum nisl risus, sagittis, rutrum id, and nibh:</p>
    <ul>
        <li><a href="#">Integer rutrum nisl in mi</a></li>
        <li><a href="#">Etiam malesuada enim</a></li>
        <li><a href="#">Aenean elementum facilisis </a></li>
    </ul>
</div-->

<!-- end div#sample2 -->
</div>
<!-- end div#content -->
<div id="sidebar">
    <ul>
        <li id="submenu">
            <h2>Archives</h2>
            <ul>
                <li><a href='http://serg.io/blog/2007_05_01_archive.html'>May 2007</a></li><li><a href='http://serg.io/blog/2007_08_01_archive.html'>August 2007</a></li><li><a href='http://serg.io/blog/2007_10_01_archive.html'>October 2007</a></li><li><a href='http://serg.io/blog/2007_11_01_archive.html'>November 2007</a></li><li><a href='http://serg.io/blog/2008_01_01_archive.html'>January 2008</a></li><li><a href='http://serg.io/blog/2008_08_01_archive.html'>August 2008</a></li>
                <!-- Link to the front page, from your archives -->
                <script type="text/javascript">if (location.href.indexOf("archive")!=-1) document.write("<li><strong><a href=\"http://serg.io/blog/\">Current Posts</a></strong></li>");</script> 
            </ul>
        </li>
        <!-- end li#submenu -->
        <li id="news">
            <h2>Blog posts I'm reading</h2>
            <ul id="feed">

            </ul>
        </li>
        <!-- end li#news -->
    </ul>
    
    <!--div class='adsense' style='text-align:center; padding: 0px 3px 0.5em 3px;'>
                        <script type="text/javascript"--><!--
                            google_ad_client="pub-9053212304658958";
                            google_ad_host="pub-1556223355139109";
                            google_ad_width=300;
                            google_ad_height=250;
                            google_ad_format="300x250_as";
                            google_ad_type="text";
                            google_color_border="F6F6F6";
                            google_color_bg="F6F6F6";
                            google_color_link="000000";
                            google_color_url="777777";
                            google_color_text="9E5205";
                            //-->
    <!--/script>
                        <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
                    </div-->  
                    
</div>
<!-- end div#sidebar -->

<div style="clear: both; height: 1px"></div>
</div>
<!-- end div#page -->
<div id="footer">
    <p id="legal">Copyright &copy; 2007 serg.io.  Thanks to <a href="http://www.freecsstemplates.org/">Free CSS Templates</a> for css design.</p>
    <p id="links"><a href="#">Privacy Policy</a> | <a href="#">Terms of Use</a> | <a href="http://feeds.feedburner.com/Sergio">Subscribe</a>&nbsp;<a href="http://feeds.feedburner.com/Sergio"><img style="border: none; vertical-align: middle;" src="images/feed-icon-12x12.png" alt="subscribe to blog updates" title="subscribe to blog updates" /></a></p>
<br/>
    <!-- In accordance to the Blogger terms of service, please leave this button somewhere on your blogger-powered page. Thanks! -->
    <p>
        <a href="http://www.blogger.com">
            <img width="88" height="31" src="http://buttons.blogger.com/bloggerbutton1.gif" border="0" alt="This page is powered by Blogger. Isn't yours?" />
        </a>
    </p>
<p>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.0/uk/">
<img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/2.0/uk/88x31.png" />
</a>
<br />This work by 
<a xmlns:cc="http://creativecommons.org/ns#" href="http://serg.io" property="cc:attributionName" rel="cc:attributionURL">http://serg.io</a> is licensed under a 
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.0/uk/">Creative Commons Attribution-Non-Commercial-Share Alike 2.0 UK: England & Wales License</a>.
</p>
</div>
<!-- end div#footer -->
</div>
<!-- end div#wrapper -->

<!-- twitter updates -->
<script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script>
<script text="text/javascript" src="http://twitter.com/statuses/user_timeline/serg10.json?callback=twitterCallback2&count=1"></script>

</body>
</html>